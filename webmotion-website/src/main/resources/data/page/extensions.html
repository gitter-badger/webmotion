<!--
  #%L
  Webmotion website
  
  $Id$
  $HeadURL$
  %%
  Copyright (C) 2011 Debux
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Lesser General Public License as 
  published by the Free Software Foundation, either version 3 of the 
  License, or (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Lesser Public License for more details.
  
  You should have received a copy of the GNU General Lesser Public 
  License along with this program.  If not, see
  <http://www.gnu.org/licenses/lgpl-3.0.html>.
  #L%
  -->
<div id="article">

<h1>Extensions</h1>

<script type="text/javascript" src="js/generated_toc.js"></script>
<div id="generated-toc" class="generate_from_h2 generate_for_article"></div>

<div class="page-header">
    <h2 id="principe">Principe</h2>
</div>
<p>
    WebMotion s'incrit dans une approche orientée composant, grâce à son système d'extensions.
    L'existance d'extensions permet la réutilisation de code d'une application à une autre, et même à l'intérieur d'une même application.
</p>
<p>
    Pour rappel, les extensions sont déclarées dans le fichier de mapping et peuvent
    être utilisées sur différentes URL.
</p>

<div class="page-header">
    <h2 id="wikimotion">Wikimotion</h2>
</div>

<p>
    WikiMotion est un moteur de wiki, qui peut à la fois être utilisé en standalone 
    ou comme extension. Par exemple, le site web <a href="/">WebMotion</a> utilise le wiki en tant qu'extension.
    Un fichier de configuration <code>wikimotion-config.properties</code> est fourni par défaut, 
    mais il est possible de le modifier afin de configurer et personnaliser votre wiki.
</p>

<p>
    Il propose comme fonctionnalités :
</p>
<ul>
    <li>Sauvegarde de fichiers plats (pas besoin de base de données)</li>
    <li>Syntaxe des pages en HTML, RST ou LaTeX</li>
    <li>Support de l'authentification HTTP basic</li>
    <li>Upload de fichier</li>
    <li>Site map</li>
    <li>Media map</li>
</ul>

<p style="text-align: right"><a class="btn large" href="http://svn.debux.org/webmotion/trunk/webmotion-wiki/">Sources &raquo;</a> <a class="btn primary large" href="download">Télécharger &raquo;</a></p>

<div class="page-header">
    <h2 id="spring">Spring</h2>
</div>

<p>
    WebMotion propose une extension d'injection de dépendances basée sur Spring. Elle 
    vous permet de gérer les contrôleurs (WebMotionController) et les WebMotionHandler dans Spring.
    Cette extension permet également d'utiliser facilement les scopes Spring (request/session/singleton/prototype) 
    pour vos objets .
</p>

<p>
    Pour l'utiliser il faut récupérer le jar et modifier la section <code>[config]</code> 
    de votre fichier de mapping ainsi :
</p>
<pre>[config]
handlers.factory.class=org.debux.webmotion.spring.SpringMainHandler
</pre>

<p>
    Les fichiers de configuration sont automatiquement chargés depuis le répertoire 
    <code>WEB-INF</code>, le nom doit commencer par <code>applicationContext</code>.
</p>
<p>
    Exemple de fichier <code>applicationContext.xml</code> :
</p>
<pre class="prettyprint">
&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
			   http://www.springframework.org/schema/context
                           http://www.springframework.org/schema/context/spring-context-3.0.xsd"&gt;

    &lt;context:annotation-config/&gt;

    &lt;bean ... /&gt;

&lt;/beans>
</pre>

<p>
    Vous devez utiliser de l'injection de dépendance pour faire des appels entre action au lieu du renderAction :
</p>
<pre class="prettyprint">
public class Spring extends WebMotionController {

    @Inject
    protected Action action;

    public Render run() {
        return action.exec();
    }

}
</pre>

<p style="text-align: right"><a class="btn large" href="http://svn.debux.org/webmotion/trunk/webmotion-spring/">Sources &raquo;</a> <a class="btn primary large" href="download">Télécharger &raquo;</a></p>

<div class="page-header">
    <h2 id="next">Prochainement</h2>
</div>
<p>
    Retrouvez ici les différentes extensions qui seront prochainement développées.
</p>
<p>
    Niveau technique :
</p>
<ul>
    <li>Shiro, pour avoir une gestion de l'authentification et d'autorisation plus avancée</li>
    <li>Hibernate, avec un système de type CRUD pour construire rapidement des applications</li>
    <li>Guice, pour l'IOC</li>
    <li>Tiles, pour le templating des vues</li>
</ul>
<p>
    Niveau fonctionnel :
</p>
<ul>
    <li>Moteur de blog</li>
    <li>Forums</li>
    <li>Module de mesure d'audience et de statistiques</li>
</ul>

<div class="well" style="text-align: center;">
    <a class="btn large" style="float:left;" href="documentation">« Documentation</a>
    <a class="btn large" style="margin: 0 auto;" href="#">Haut de page</a>
    <a class="btn primary large" style="float:right;" href="advanced">Avancé »</a>
</div>

</div>
