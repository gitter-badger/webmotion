<!--
  #%L
  Webmotion website
  
  $Id$
  $HeadURL$
  %%
  Copyright (C) 2011 Debux
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Lesser General Public License as 
  published by the Free Software Foundation, either version 3 of the 
  License, or (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Lesser Public License for more details.
  
  You should have received a copy of the GNU General Lesser Public 
  License along with this program.  If not, see
  <http://www.gnu.org/licenses/lgpl-3.0.html>.
  #L%
  -->
<div id="article">

<h1>Extensions</h1>

<script type="text/javascript" src="js/generated_toc.js"></script>
<div id="generated-toc" class="generate_from_h2 generate_for_article"></div>

<div class="page-header">
    <h2 id="principe">Principe</h2>
</div>
<p>
    WebMotion s'incrire dans une approche composant par le système d'extension.
    Elles permettent la réutilisation de code, au niveau application et 
    au niveau technique.
</p>
<p>
    Pour rappel les extensions sont déclarées dans le fichier de mapping et peuvent
    être utilisé sur différente url.
</p>

<div class="page-header">
    <h2 id="wikimotion">Wikimotion</h2>
</div>

<p>
    WikiMotion est un moteur de wiki, qui peut à la fois être utiliser en standalone 
    ou comme extension. Le site web est basé dessus.
</p>

<p>
    Il propose comme fonctionnalités :
</p>
<ul>
    <li>Sauvegarde des fichiers à plat</li>
    <li>Syntaxe des pages en HTML, RST ou Latex</li>
    <li>Authentification basique</li>
    <li>Upload de fichier</li>
    <li>Site map</li>
    <li>Media map</li>
</ul>

<div class="page-header">
    <h2 id="spring">Spring</h2>
</div>

<p>
    WebMotion propose un module d'injection dépendance basé sur Spring. Il 
    vous permet de gérer les WebMotionController et les WebMotionHandler dans spring.
    Ce qui vous permet facilement d'utiliser les scopes spring (request/session/singleton/prototype) 
    pour vos objets .
</p>

<p>
    Pour l'utiliser il faut récupérer le jar et modifier la section <code>[config]</code> 
    de votre fichier de mapping ainsi :
</p>
<pre>
[config]
handlers.factory.class=org.debux.webmotion.spring.SpringHandlerFactory
</pre>

<p>
    Les fichiers de configuration sont automatiquement chargées depuis le répertoire 
    <code>WEB-INF</code>, le nom doit commencer par <code>applicationContext</code>.
</p>
<p>
    Exemple de fichier <code>applicationContext.xml</code> :
</p>
<pre class="prettyprint">
&lt;beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
			   http://www.springframework.org/schema/context
                           http://www.springframework.org/schema/context/spring-context-3.0.xsd"&gt;

    &lt;context:annotation-config/&gt;

    &lt;bean ... /&gt;

&lt;/beans>
</pre>

<p>
    Vous devez utiliser de l'injection de dépendance pour faire des appels entre action au lieu du renderAction :
</p>
<pre class="prettyprint">
public class Spring extends WebMotionController {

    @Inject
    protected Action action;

    public Render run() {
        return action.exec();
    }

}
</pre>

<div class="page-header">
    <h2 id="next">Prochainement</h2>
</div>
<p>
    Cette partie reprends les différents extensions qui seront prochainement développées.
</p>
<p>
    Niveau technique :
</p>
<ul>
    <li>Shiro, pour avoir la gestion de l'authentification et d'authorisation.</li>
    <li>Hibernate, avec un CRUD pour construire rapidement des applications.</li>
    <li>Guice, pour l'ioc.</li>
    <li>Tiles, pour le templatage.</li>
</ul>
<p>
    Niveau applicatif :
</p>
<ul>
    <li>Blog</li>
    <li>Forum</li>
    <li>Statistiques</li>
</ul>

<div class="well" style="text-align: center;">
    <a class="btn large" style="float:left;" href="documentation">« Documentation</a>
    <a class="btn large" style="margin: 0 auto;" href="#">Haut de page</a>
    <a class="btn primary large" style="float:right;" href="advanced">Avancé »</a>
</div>

</div>
