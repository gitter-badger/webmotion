<?xml version="1.0" encoding="UTF-8"?>
<!--
  #%L
  Webmotion extension spring
  
  $Id$
  $HeadURL$
  %%
  Copyright (C) 2011 Debux
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Lesser General Public License as 
  published by the Free Software Foundation, either version 3 of the 
  License, or (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Lesser Public License for more details.
  
  You should have received a copy of the GNU General Lesser Public 
  License along with this program.  If not, see
  <http://www.gnu.org/licenses/lgpl-3.0.html>.
  #L%
  -->

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="
            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
			http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd">

    <context:annotation-config/>

    <bean id="parametersMultipartHandler"
          class="org.debux.webmotion.server.handler.ParametersMultipartHandler"/>
    <bean id="filterFinderHandler"
          class="org.debux.webmotion.server.handler.FilterFinderHandler"/>
    <bean id="actionFinderHandler"
          class="org.debux.webmotion.server.handler.ActionFinderHandler"/>
    <bean id="parametersExtractorHandler"
          class="org.debux.webmotion.server.handler.ParametersExtractorHandler"/>
    <bean id="errorFinderHandler"
          class="org.debux.webmotion.server.handler.ErrorFinderHandler"/>
    <bean id="actionExecuteRenderHandler"
          class="org.debux.webmotion.server.handler.ActionExecuteRenderHandler"/>
    <bean id="filterMethodFinderHandler"
          class="org.debux.webmotion.server.handler.FilterMethodFinderHandler"/>
    <bean id="actionMethodFinderHandler"
          class="org.debux.webmotion.server.handler.ActionMethodFinderHandler"/>
    <bean id="errorMethodFinderHandler"
          class="org.debux.webmotion.server.handler.ErrorMethodFinderHandler"/>
    <bean id="springInstanceCreatorHandler"
          class="org.debux.webmotion.spring.SpringInstanceCreatorHandler"/>
    <bean id="executorParametersConvertorHandler"
          class="org.debux.webmotion.server.handler.ExecutorParametersConvertorHandler"/>
    <bean id="executorParametersInjectorHandler"
          class="org.debux.webmotion.server.handler.ExecutorParametersInjectorHandler"/>
    <bean id="executorParametersValidatorHandler"
          class="org.debux.webmotion.server.handler.ExecutorParametersValidatorHandler"/>
    <bean id="executorMethodInvokerHandler"
          class="org.debux.webmotion.server.handler.ExecutorMethodInvokerHandler"/>

    <bean id="springActionHandlers" class="java.util.ArrayList">
        <constructor-arg>
            <list>
                <ref bean="parametersMultipartHandler" />
                <ref bean="filterFinderHandler" />
                <ref bean="actionFinderHandler" />
                <ref bean="parametersExtractorHandler" />
                <ref bean="actionExecuteRenderHandler" />
                <ref bean="filterMethodFinderHandler" />
                <ref bean="actionMethodFinderHandler" />
                <ref bean="springInstanceCreatorHandler" />
                <ref bean="executorParametersConvertorHandler" />
                <ref bean="executorParametersInjectorHandler" />
                <ref bean="executorParametersValidatorHandler" />
                <ref bean="executorMethodInvokerHandler" />
            </list>
        </constructor-arg>
    </bean>

    <bean id="springErrorHandlers" class="java.util.ArrayList">
        <constructor-arg>
            <list>
                <ref bean="parametersMultipartHandler" />
                <ref bean="errorFinderHandler" />
                <ref bean="actionExecuteRenderHandler" />
                <ref bean="errorMethodFinderHandler" />
                <ref bean="springInstanceCreatorHandler" />
                <ref bean="executorParametersInjectorHandler" />
                <ref bean="executorMethodInvokerHandler" />
            </list>
        </constructor-arg>
    </bean>

</beans>
